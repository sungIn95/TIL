{% extends 'base.html' %} {% block content %}
<form action=" {% url 'todos:create' %} ">
  <div class="input-group my-3">
    <span class="input-group-text" id="addon-wrapping">할일</span>
    <input
      type="text"
      class="form-control"
      placeholder="Username"
      aria-label="Username"
      aria-describedby="addon-wrapping"
      name="todo__work"
      maxlength="80"
    />
  </div>
    <div class="input-group my-3">
        <label class="input-group-text" for="inputGroupSelect01">우선 순위</label>
        <select class="form-select" id="inputGroupSelect01" name="todo__priority">
        <option selected></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        </select>
    </div>
    <div class="input-group my-3">
        <label class="input-group-text" for="inputGroupSelect02">진행 상태</label>
        <select class="form-select" id="inputGroupSelect02" name="todo__state">
        <option selected></option>
        <option value="0">보류</option>
        <option value="1">바로 진행</option>
        </select>
    </div>
    <div class="input-group mt-3">
      <span class="input-group-text" id="basic-addon1">마감기한</span>
      <input
        type="date"
        class="form-control"
        aria-describedby="basic-addon1"
        name="todo__deadline"
      />
    </div>
    <div class="input-group my-3">
      <button class="btn btn btn-outline-primary form-control" type="submit">
        Button
      </button>
    </div>
  </div>
</form>
<table class="table table-dark table-striped">
  <thead>
    <tr>
      <th scope="col">우선 순위</th>
      <th scope="col">할 일</th>
      <th scope="col">생성 날짜</th>
      <th scope="col">마감 기한</th>
      <th scope="col">진행 상태</th>
      <th scope="col">상태 변경</th>
      <th scope="col">삭제</th>
    </tr>
  </thead>
  <tbody>
    {% for todo in todos %}
    <tr>
      <th scope="row">{{ todo.priority }}</th>
      <td>{{ todo.content }}</td>
      <td>{{ todo.created_at }}</td>
      <td>{{ todo.deadline }}</td>
      <td>{{ todo.completed }}</td>
      <td>
        <button type="button" class="btn btn-primary" onclick="location.href='{% url 'todos:modify' todo.pk %}' ">
            <span>수정</span>
        </button>
      </td>
      <td>
        <button type="button" class="btn btn-danger" onclick="location.href='{% url 'todos:delete' todo.pk %}' ">
          <span>삭제</span>
        </button>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
